{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\rff96\\\\Documents\\\\GitHub\\\\cop4331-large-project\\\\client\\\\src\\\\components\\\\deleteModal\\\\DeleteModal.jsx\",\n  _s = $RefreshSig$();\nimport { Modal, useMantineTheme } from '@mantine/core';\nimport { useParams } from 'react-router-dom';\nimport './DeleteModal.css';\nimport { useState } from 'react';\nimport { useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { deletePost } from '../../features/post/postSlice';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction DeleteModal(_ref) {\n  _s();\n  let {\n    modalOpened,\n    setModalOpened,\n    post\n  } = _ref;\n  const theme = useMantineTheme();\n  const [activeUser, setActiveUser] = useState({});\n  const params = useParams();\n  const dispatch = useDispatch();\n  const {\n    user\n  } = useSelector(state => state.auth);\n  const fetchProfileUser = async () => {\n    setActiveUser(user);\n  };\n  useEffect(() => {\n    fetchProfileUser();\n  }, [user]);\n  const deleteThisPost = async () => {\n    const postId = post.id;\n    await dispatch(deletePost(postId)).then(response => {\n      console.log(response.error);\n    }).then(() => {\n      setModalOpened(false);\n      // navigate(`/home`, {replace: true})\n      window.location.reload(); //! not clean\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    overlayColor: theme.colorScheme === 'dark' ? theme.colors.dark[9] : theme.colors.gray[2],\n    overlayOpacity: 0.55,\n    overlayBlur: 3,\n    size: \"35%\",\n    opened: modalOpened,\n    onClose: () => {\n      setModalOpened(false);\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"DeleteModal\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"content\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Delete this post?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"buttons\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: deleteThisPost,\n            children: \"Confirm\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 9\n  }, this);\n}\n_s(DeleteModal, \"+GFURBeR3bm/lv0+vjpdITYVcC4=\", false, function () {\n  return [useMantineTheme, useParams, useDispatch, useSelector];\n});\n_c = DeleteModal;\nexport default DeleteModal;\nvar _c;\n$RefreshReg$(_c, \"DeleteModal\");","map":{"version":3,"names":["Modal","useMantineTheme","useParams","useState","useEffect","useSelector","useDispatch","deletePost","DeleteModal","modalOpened","setModalOpened","post","theme","activeUser","setActiveUser","params","dispatch","user","state","auth","fetchProfileUser","deleteThisPost","postId","id","then","response","console","log","error","window","location","reload","colorScheme","colors","dark","gray"],"sources":["C:/Users/rff96/Documents/GitHub/cop4331-large-project/client/src/components/deleteModal/DeleteModal.jsx"],"sourcesContent":["import { Modal, useMantineTheme } from '@mantine/core'\r\nimport { useParams } from 'react-router-dom';\r\nimport './DeleteModal.css'\r\nimport { useState } from 'react';\r\nimport { useEffect } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { deletePost } from '../../features/post/postSlice'\r\n\r\nfunction DeleteModal({modalOpened, setModalOpened, post}) {\r\n    const theme = useMantineTheme();\r\n    const [activeUser, setActiveUser] = useState({})\r\n    const params = useParams();\r\n    const dispatch = useDispatch();\r\n    const { user } = useSelector((state) => state.auth);\r\n\r\n    const fetchProfileUser = async () => {\r\n        setActiveUser(user);\r\n    }\r\n\r\n    useEffect(() => {\r\n        fetchProfileUser()\r\n    },[user]);\r\n\r\n    const deleteThisPost = async () => {\r\n        const postId = post.id\r\n\r\n        await dispatch(deletePost(postId))\r\n        .then((response) => {\r\n            console.log(response.error)\r\n        })\r\n        .then(() => {\r\n            setModalOpened(false)\r\n            // navigate(`/home`, {replace: true})\r\n            window.location.reload(); //! not clean\r\n        })\r\n\r\n    }\r\n\r\n    return(\r\n        <Modal\r\n        overlayColor={theme.colorScheme === 'dark' ? theme.colors.dark[9] : theme.colors.gray[2]}\r\n        overlayOpacity={0.55}\r\n        overlayBlur={3}\r\n        size='35%'\r\n        opened={modalOpened}\r\n        onClose={() => { setModalOpened(false);}}\r\n        >\r\n        <div className=\"DeleteModal\">\r\n            <div className='content'>\r\n                <h3>Delete this post?</h3>\r\n                <div className=\"buttons\">\r\n                    <button onClick={deleteThisPost}>Confirm</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        </Modal>\r\n    );\r\n}\r\n\r\nexport default DeleteModal"],"mappings":";;AAAA,SAASA,KAAK,EAAEC,eAAe,QAAQ,eAAe;AACtD,SAASC,SAAS,QAAQ,kBAAkB;AAC5C,OAAO,mBAAmB;AAC1B,SAASC,QAAQ,QAAQ,OAAO;AAChC,SAASC,SAAS,QAAQ,OAAO;AACjC,SAASC,WAAW,EAAEC,WAAW,QAAQ,aAAa;AACtD,SAASC,UAAU,QAAQ,+BAA+B;AAAA;AAE1D,SAASC,WAAW,OAAsC;EAAA;EAAA,IAArC;IAACC,WAAW;IAAEC,cAAc;IAAEC;EAAI,CAAC;EACpD,MAAMC,KAAK,GAAGX,eAAe,EAAE;EAC/B,MAAM,CAACY,UAAU,EAAEC,aAAa,CAAC,GAAGX,QAAQ,CAAC,CAAC,CAAC,CAAC;EAChD,MAAMY,MAAM,GAAGb,SAAS,EAAE;EAC1B,MAAMc,QAAQ,GAAGV,WAAW,EAAE;EAC9B,MAAM;IAAEW;EAAK,CAAC,GAAGZ,WAAW,CAAEa,KAAK,IAAKA,KAAK,CAACC,IAAI,CAAC;EAEnD,MAAMC,gBAAgB,GAAG,YAAY;IACjCN,aAAa,CAACG,IAAI,CAAC;EACvB,CAAC;EAEDb,SAAS,CAAC,MAAM;IACZgB,gBAAgB,EAAE;EACtB,CAAC,EAAC,CAACH,IAAI,CAAC,CAAC;EAET,MAAMI,cAAc,GAAG,YAAY;IAC/B,MAAMC,MAAM,GAAGX,IAAI,CAACY,EAAE;IAEtB,MAAMP,QAAQ,CAACT,UAAU,CAACe,MAAM,CAAC,CAAC,CACjCE,IAAI,CAAEC,QAAQ,IAAK;MAChBC,OAAO,CAACC,GAAG,CAACF,QAAQ,CAACG,KAAK,CAAC;IAC/B,CAAC,CAAC,CACDJ,IAAI,CAAC,MAAM;MACRd,cAAc,CAAC,KAAK,CAAC;MACrB;MACAmB,MAAM,CAACC,QAAQ,CAACC,MAAM,EAAE,CAAC,CAAC;IAC9B,CAAC,CAAC;EAEN,CAAC;;EAED,oBACI,QAAC,KAAK;IACN,YAAY,EAAEnB,KAAK,CAACoB,WAAW,KAAK,MAAM,GAAGpB,KAAK,CAACqB,MAAM,CAACC,IAAI,CAAC,CAAC,CAAC,GAAGtB,KAAK,CAACqB,MAAM,CAACE,IAAI,CAAC,CAAC,CAAE;IACzF,cAAc,EAAE,IAAK;IACrB,WAAW,EAAE,CAAE;IACf,IAAI,EAAC,KAAK;IACV,MAAM,EAAE1B,WAAY;IACpB,OAAO,EAAE,MAAM;MAAEC,cAAc,CAAC,KAAK,CAAC;IAAC,CAAE;IAAA,uBAEzC;MAAK,SAAS,EAAC,aAAa;MAAA,uBACxB;QAAK,SAAS,EAAC,SAAS;QAAA,wBACpB;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QAA0B,eAC1B;UAAK,SAAS,EAAC,SAAS;UAAA,uBACpB;YAAQ,OAAO,EAAEW,cAAe;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA;QAAiB;UAAA;UAAA;UAAA;QAAA,QAC/C;MAAA;QAAA;QAAA;QAAA;MAAA;IACJ;MAAA;MAAA;MAAA;IAAA;EACJ;IAAA;IAAA;IAAA;EAAA,QACE;AAEhB;AAAC,GAjDQb,WAAW;EAAA,QACFP,eAAe,EAEdC,SAAS,EACPI,WAAW,EACXD,WAAW;AAAA;AAAA,KALvBG,WAAW;AAmDpB,eAAeA,WAAW;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}